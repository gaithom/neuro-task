<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroTask - AI Task Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo" onclick="app.showPage('dashboard')">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h1>NeuroTask</h1>
            </div>
            
            <div class="desktop-nav">
                <button class="btn-primary" onclick="app.showPage('add-task')">
                    <i class="fas fa-plus"></i> New Task
                </button>
                <div class="user-avatar">JS</div>
            </div>
            
            <button id="mobile-menu-button" class="mobile-menu-btn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
                <span class="sr-only">Menu</span>
            </button>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="mobile-menu">
            <div class="mobile-nav">
                <button class="nav-active" onclick="app.showPage('dashboard')">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button onclick="app.showPage('tasks')">
                    <i class="fas fa-tasks"></i>
                    <span>Tasks</span>
                </button>
                <button onclick="app.showPage('insights')">
                    <i class="fas fa-chart-pie"></i>
                    <span>Insights</span>
                </button>
                <button onclick="app.showPage('add-task')">
                    <i class="fas fa-plus"></i>
                    <span>Add</span>
                </button>
            </div>
        </div>
    </header>

    <main class="container main-content">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page active-page">
            <div class="page-content">
                <!-- Left Column - Task Input -->
                <div class="left-column">
                    <div class="card">
                        <h2>Create New Task</h2>
                        
                        <div class="input-group">
                            <label>Describe your task naturally</label>
                            <div class="input-with-button">
                                <textarea id="taskInput" rows="3" placeholder="E.g.: I need to finish the quarterly report by Friday 2pm and share it with my team"></textarea>
                                <button onclick="taskManager.processTask()" aria-label="Send task">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="tip-box">
                            <i class="fas fa-lightbulb"></i>
                            <p>Try: "Schedule a meeting with Alex about the project next Tuesday at 3pm"</p>
                        </div>
                        
                        <div class="ai-suggestions">
                            <h3>AI Suggestions</h3>
                            <div class="suggestion-grid">
                                <div class="suggestion-item" onclick="aiService.suggestSubtasks()">
                                    <i class="fas fa-magic"></i> Break into subtasks
                                </div>
                                <div class="suggestion-item" onclick="aiService.suggestDeadline()">
                                    <i class="fas fa-clock"></i> Suggest deadline
                                </div>
                                <div class="suggestion-item" onclick="aiService.prioritizeTasks()">
                                    <i class="fas fa-list-ol"></i> Prioritize
                                </div>
                                <div class="suggestion-item" onclick="aiService.suggestLabels()">
                                    <i class="fas fa-tags"></i> Add labels
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn-primary full-width" onclick="aiService.analyzeTask()">
                            <i class="fas fa-robot"></i> AI Analyze Task
                        </button>
                    </div>
                    
                    <div class="card">
                        <h2>AI Assistant</h2>
                        <div class="ai-message">
                            <div class="ai-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <p>Hello! I'm your productivity assistant. I can help you plan your day, prioritize tasks, and provide insights about your workload.</p>
                        </div>
                        
                        <div class="ai-actions">
                            <button onclick="aiService.suggestTodayWork()">
                                <i class="fas fa-calendar-check"></i>
                                <span>What should I work on today?</span>
                            </button>
                            
                            <button onclick="aiService.generateReport()">
                                <i class="fas fa-chart-pie"></i>
                                <span>Give me a productivity report</span>
                            </button>
                            
                            <button onclick="aiService.prioritizeAllTasks()">
                                <i class="fas fa-tasks"></i>
                                <span>Help me prioritize my tasks</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Middle Column - Task List -->
                <div class="right-column">
                    <div class="card">
                        <div class="card-header">
                            <h2>Today's Tasks</h2>
                            <div class="action-buttons">
                                <button onclick="taskManager.filterTasks()">
                                    <i class="fas fa-filter"></i> Filter
                                </button>
                                <button onclick="taskManager.sortTasks()">
                                    <i class="fas fa-sort"></i> Sort
                                </button>
                            </div>
                        </div>
                        
                        <div id="tasks-container" class="tasks-list">
                            <!-- Tasks will be dynamically inserted here -->
                        </div>
                    </div>
                    
                    <div class="card">
                        <h2>Productivity Insights</h2>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-value" id="completed-count">0</p>
                                    <p class="stat-label">Completed Tasks</p>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-value" id="productivity-score">0%</p>
                                    <p class="stat-label">Productivity Score</p>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-value" id="focus-time">0h</p>
                                    <p class="stat-label">Focus Time</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ai-analysis">
                            <div class="ai-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="analysis-content">
                                <p class="analysis-title">AI Analysis</p>
                                <p id="ai-analysis">You have no tasks yet. Add some tasks to get AI insights!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tasks Page -->
        <div id="tasks" class="page">
            <div class="card">
                <h2>All Tasks</h2>
                
                <div class="filter-buttons">
                    <button class="filter-active" onclick="taskManager.showAllTasks()">All</button>
                    <button onclick="taskManager.filterTasksByStatus('active')">Active</button>
                    <button onclick="taskManager.filterTasksByStatus('completed')">Completed</button>
                    <button onclick="taskManager.filterTasksByPriority('high')">High Priority</button>
                    <button onclick="taskManager.filterTasksByDate('today')">Today</button>
                </div>
                
                <div id="all-tasks-container" class="tasks-list">
                    <!-- All tasks will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Insights Page -->
        <div id="insights" class="page">
            <div class="card">
                <h2>Productivity Insights</h2>
                
                <div class="insights-grid">
                    <div class="insight-card">
                        <h3>Task Completion Rate</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" id="completion-bar"></div>
                        </div>
                        <p class="progress-text" id="completion-text">You complete 0% of tasks on time</p>
                    </div>
                    
                    <div class="insight-card">
                        <h3>Weekly Focus Time</h3>
                        <div class="chart-container" id="focus-chart">
                            <!-- Chart will be generated here -->
                        </div>
                    </div>
                </div>
                
                <div class="recommendations">
                    <h3>AI Recommendations</h3>
                    <div id="ai-recommendations">
                        <!-- AI recommendations will be added here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Task Page -->
        <div id="add-task" class="page">
            <div class="card add-task-card">
                <h2>Add New Task</h2>
                
                <div class="form-group">
                    <label>Task Title</label>
                    <input type="text" id="task-title" placeholder="What needs to be done?">
                </div>
                
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="task-description" rows="3" placeholder="Add details..."></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-due-date">Due Date</label>
                        <input type="date" id="task-due-date" placeholder="Select a date" title="Task due date" aria-label="Task due date">
                    </div>
                    
                    <div class="form-group">
                        <label for="task-priority">Priority</label>
                        <select id="task-priority" name="task-priority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="task-category">Category</label>
                    <select id="task-category" name="category">
                        <option value="work">Work</option>
                        <option value="personal">Personal</option>
                        <option value="health">Health</option>
                        <option value="learning">Learning</option>
                    </select>
                </div>
                
                <div class="form-actions">
                    <button class="btn-secondary" onclick="app.showPage('dashboard')">Cancel</button>
                    <button class="btn-primary" onclick="taskManager.addManualTask()">Add Task</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Bottom Nav -->
    <div class="mobile-bottom-nav">
        <button class="nav-active" onclick="app.showPage('dashboard')">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </button>
        <button onclick="app.showPage('tasks')">
            <i class="fas fa-tasks"></i>
            <span>Tasks</span>
        </button>
        <button onclick="app.showPage('insights')">
            <i class="fas fa-chart-pie"></i>
            <span>Insights</span>
        </button>
        <button onclick="app.showPage('add-task')">
            <i class="fas fa-plus"></i>
            <span>Add</span>
        </button>
    </div>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/ai-service.js"></script>
    <script src="js/task-manager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>